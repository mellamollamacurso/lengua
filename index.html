<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>portal — me llamo llama</title>
<link rel="icon" href="favicon.ico" sizes="any">

<style>
/* Barra de rolagem larga com cores originais (fundo preto e roxo nas setas/área deslocável) */
::-webkit-scrollbar {
  width: 16px;
  height: 16px;
}
/* trilho */
::-webkit-scrollbar-track {
  background: #000; /* preto */
}
/* polegar (área deslocável) */
::-webkit-scrollbar-thumb {
  background-color: #7c3aed; /* roxo */
  border-radius: 8px;
  border: 3px solid #000; /* anel preto para separar do trilho */
}
/* canto (quando há scroll horizontal + vertical) */
::-webkit-scrollbar-corner {
  background: #000;
}
/* botões (setas) — suporte varia por navegador */
::-webkit-scrollbar-button {
  background: #7c3aed; /* roxo nas setas/botões */
  height: 16px;
  width: 16px;
}

/* Firefox */
* {
  scrollbar-width: auto;
  scrollbar-color: #7c3aed #000; /* thumb roxo sobre trilho preto */
}
</style>



<style>
/* Barra de rolagem larga com cores originais (fundo preto e roxo nas setas/área deslocável) */
::-webkit-scrollbar {
  width: 16px;
  height: 16px;
}
/* trilho */
::-webkit-scrollbar-track {
  background: #000; /* preto */
}
/* polegar (área deslocável) */
::-webkit-scrollbar-thumb {
  background-color: #7c3aed; /* roxo */
  border-radius: 8px;
  border: 3px solid #000; /* anel preto para separar do trilho */
}
/* canto (quando há scroll horizontal + vertical) */
::-webkit-scrollbar-corner {
  background: #000;
}
/* botões (setas) — suporte varia por navegador */
::-webkit-scrollbar-button {
  background: #7c3aed; /* roxo nas setas/botões */
  height: 16px;
  width: 16px;
}

/* Firefox */
* {
  scrollbar-width: auto;
  scrollbar-color: #7c3aed #000; /* thumb roxo sobre trilho preto */
}
</style>


</head>
<body>
  <div class="top-bar" aria-hidden="true"></div>
  <img class="logo" src="https://mellamollamacurso.github.io/lengua/inicial/a03.gif" alt="Cultura Hispánica" />

  <div class="menu-slot">
    <nav class="navbar" id="navbar">
      <ul class="nav-list" id="navList">
        <li class="nav-item has-dropdown" data-idx="0">
          <a class="nav-link" href="#">Inicio <span class="caret"></span></a>
          <div class="popover" role="menu"><ul>
              <li><a href="#" role="menuitem">Conoce el curso</a></li>
              <li><a href="#" role="menuitem">Eventos</a></li>
              <li><a href="#" role="menuitem">Materiales</a></li>
          </ul></div>
        </li>
        <li class="nav-item has-dropdown" data-idx="1">
          <a class="nav-link" href="#">Alumno <span class="caret"></span></a>
          <div class="popover" role="menu"><ul>
              <li><a href="#" role="menuitem">Ejercicios</a></li>
              <li><a href="#" role="menuitem">Pruebas</a></li>
              <li><a href="#" role="menuitem">Materiales</a></li>
          </ul></div>
        </li>
        <li class="nav-item has-dropdown" data-idx="2">
          <a class="nav-link" href="#">Profesor <span class="caret"></span></a>
          <div class="popover" role="menu"><ul>
              <li><a href="#" role="menuitem">Libros</a></li>
              <li><a href="#" role="menuitem">Guías</a></li>
              <li><a href="#" role="menuitem">Asistencia</a></li>
          </ul></div>
        </li>
        <li class="nav-item has-dropdown active" data-idx="3">
          <a class="nav-link" href="#">Contacto <span class="caret"></span></a>
          <div class="popover" role="menu"><ul>
              <li><a href="#" role="menuitem">Agendar citas</a></li>
              <li><a href="#" role="menuitem">Dudas</a></li>
              <li><a href="#" role="menuitem">Test de nivel</a></li>
          </ul></div>
        </li>
      </ul>
      <span class="nav-underline" id="navUnderline"></span>
    </nav>
  </div>

  <div class="account" aria-label="acceder">
    <div class="avatar" aria-hidden="true"></div>
    <div class="acc-label">acceder</div>
  </div>

  <img class="title-img" src="https://mellamollamacurso.github.io/lengua/inicial/a04.png" alt="me llamo llama" />

  <main class="hero">
    <a class="btn-orange" href="#info">¡confiere!</a>
    <section id="info" class="info-card" aria-label="anuncio">
      <div class="pink-block" aria-hidden="true"></div>
      <div class="info-body">
        <h3 class="info-title">¡Entérate!</h3>
        <p class="info-text">Un curso hecho por profesores enamoradísimos de la lengua y para los más enamorados.</p>
      </div>
    </section>
  </main>

  <footer class="footer-strip">
    <img class="avatar" src="https://mellamollamacurso.github.io/lengua/inicial/a05.png" alt="avatar del profe" />
    <div class="footer-texts">
      <div class="footer-line1">Profe : Álex Barges</div>
      <div class="footer-sub">profesor y creador</div>
      <div class="footer-line2">
        <div class="course-name">Curso Cultura Hispánica</div>
        <div class="version-badge">v0.25</div>
      </div>
      <div class="footer-legal">todos los derechos reservados</div>
    </div>
    <div class="footer-right">
      <div class="metric">total de llamas: <span id="count-total">—</span></div>
      <div class="metric">llamas conectadas: <span id="count-online">—</span></div>
    </div>
  </footer>

<script>
/* Menu underline logic */
const nav=document.getElementById('navbar'),ul=document.getElementById('navList'),underline=document.getElementById('navUnderline');
function placeUnderlineTo(li,instant=false){const c=nav.getBoundingClientRect(),r=li.getBoundingClientRect(),left=r.left-c.left,width=r.width;if(instant){underline.style.transition='none';underline.style.left=left+'px';underline.style.width=width+'px';void underline.offsetWidth;underline.style.transition='left .15s,width .15s';return}const a=ul.querySelector('.nav-item.active')||li,fr=a.getBoundingClientRect(),fl=fr.left-c.left,frt=fl+fr.width,tl=left,tr=left+width;underline.style.transition='left .15s,width .15s';if(tl>fl){underline.style.left=fl+'px';underline.style.width=(tr-fl)+'px';setTimeout(()=>{underline.style.left=tl+'px';underline.style.width=width+'px'},170)}else{underline.style.left=tl+'px';underline.style.width=(frt-tl)+'px';setTimeout(()=>{underline.style.width=width+'px'},170)}}
function closeAll(){ul.querySelectorAll('.has-dropdown.open').forEach(li=>li.classList.remove('open'))}
ul.addEventListener('click',e=>{const l=e.target.closest('.nav-link');if(!l)return;e.preventDefault();const li=l.closest('.nav-item');if(li.classList.contains('has-dropdown')){const open=li.classList.toggle('open');ul.querySelectorAll('.has-dropdown').forEach(o=>{if(o!==li)o.classList.remove('open')});ul.querySelectorAll('.nav-item').forEach(it=>it.classList.toggle('active',it===li));placeUnderlineTo(li);return}else{closeAll()}ul.querySelectorAll('.nav-item').forEach(it=>it.classList.toggle('active',it===li));placeUnderlineTo(li)});
document.addEventListener('click',e=>{if(!nav.contains(e.target)) closeAll()});document.addEventListener('keydown',e=>{if(e.key==='Escape') closeAll()});
window.addEventListener('load',()=>{placeUnderlineTo(ul.querySelector('.nav-item.active')||ul.querySelector('.nav-item'),true)});window.addEventListener('resize',()=>{placeUnderlineTo(ul.querySelector('.nav-item.active')||ul.querySelector('.nav-item'),true)});

/* Counters with offline guard */
const NS = 'mellamollamacurso_github_io_portal';
const elTotal = document.getElementById('count-total');
const elOnline = document.getElementById('count-online');

function setPlaceholders(){ elTotal.textContent='—'; elOnline.textContent='—'; }

async function updateTotal() {
  try {
    const r = await fetch(`https://api.countapi.xyz/hit/${NS}/visits`);
    const d = await r.json();
    elTotal.textContent = (d.value||0).toLocaleString();
  } catch(e) { setPlaceholders(); }
}
async function ensureOnlineKey() {
  try { await fetch(`https://api.countapi.xyz/create/${NS}/online?value=0`); } catch(e) {}
}
async function refreshOnline() {
  try {
    const r = await fetch(`https://api.countapi.xyz/get/${NS}/online`);
    const d = await r.json();
    elOnline.textContent = (d.value||0).toLocaleString();
  } catch(e) { setPlaceholders(); }
}
async function incOnline() { try { await fetch(`https://api.countapi.xyz/update/${NS}/online?amount=1`); } catch(e) {} }
function decOnline() { try { navigator.sendBeacon(`https://api.countapi.xyz/update/${NS}}/online?amount=-1`); } catch(e) {} }

function initCounters(){
  if(!navigator.onLine){ setPlaceholders(); return; }
  ensureOnlineKey();
  updateTotal();
  incOnline().then(refreshOnline);
  setInterval(()=>{ if(navigator.onLine) refreshOnline(); }, 15000);
}

window.addEventListener('load', initCounters);
window.addEventListener('online', initCounters);
window.addEventListener('offline', setPlaceholders);
window.addEventListener('beforeunload', decOnline);
</script>
</body>
</html>
